<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å±±è¥¿ç”ºãƒ»åº•å€¤è¨ˆç®—ãã‚“</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f0f4f8; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        button { width: 100%; padding: 15px; background: #00b900; color: white; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; }
        .result { margin-top: 20px; padding: 15px; background: white; border-radius: 8px; display: none; }
    </style>
</head>
<body>
    <h2>ğŸ›’ åº•å€¤è¨ˆç®—ãƒ»ç™»éŒ²</h2>
    <input type="text" id="item" placeholder="å“ç›®ï¼ˆä¾‹ï¼šè±šãƒãƒ©ï¼‰">
    <input type="number" id="price" placeholder="ä¾¡æ ¼ï¼ˆç¨è¾¼ï¼‰" inputmode="numeric">
    <input type="number" id="weight" placeholder="å†…å®¹é‡ï¼ˆg ã¾ãŸã¯ å€‹ï¼‰" inputmode="numeric">
    <input type="text" id="store" placeholder="åº—åï¼ˆä¾‹ï¼šãƒ•ã‚¸ï¼‰">
    <button onclick="calculate()">è¨ˆç®— ï¼† ç™»éŒ²</button>

    <div id="result" class="result"></div>

    <script>
        const GAS_URL = "ã‚ãªãŸã®GASã®ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªURL";

        async function calculate() {
            const item = document.getElementById('item').value;
            const price = document.getElementById('price').value;
            const weight = document.getElementById('weight').value;
            const store = document.getElementById('store').value;

            if(!item || !price || !weight) return alert("å…¥åŠ›ã—ã¦ãã ã•ã„");

            const unitPrice = Math.round((price / weight) * 100);
            
            // GASã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡
            const response = await fetch(GAS_URL, {
                method: "POST",
                body: JSON.stringify({ item, price, weight, store, type: "web_app" })
            });
            const resData = await response.json();

            const resultDiv = document.getElementById('result');
            resultDiv.style.display = "block";
            resultDiv.innerHTML = `ğŸ’° 100gã‚ãŸã‚Šï¼šç´„ <b>${unitPrice}å††</b><br><br>${resData.message}`;
        }
    </script>
</body>
</html>
