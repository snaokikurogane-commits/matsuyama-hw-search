<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>かんたん求人検索（松山版）</title>
<style type="text/css">
  body { font-family: "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; margin: 0; background-color: #f9f9f9; }
  #wrapper { max-width: 600px; margin: 0 auto; padding: 20px; background-color: #ffffff; box-shadow: 0 0 10px rgba(0,0,0,0.1); padding-bottom: 80px; box-sizing: border-box; position: relative; }
  .tytle { margin: 10px 0 5px 0; padding: 3px 0 3px 10px; color: #008000 !important; border-left: 15px #008000 solid; font-size: 18pt; font-weight: bold; line-height: 1.4; }
  .intro-text { font-size: 15px; color: #333; background: #f4f4f4; padding: 12px; border-radius: 5px; margin-bottom: 20px; line-height: 1.6; }
  .caution-text { color: #d32f2f; font-weight: bold; font-size: 0.95em; margin-bottom: 5px; display: block; }
  .floating-help-btn { position: fixed; top: 15px; right: 15px; z-index: 9999; background-color: #ff9800; color: #ffffff !important; font-weight: bold; font-size: 13px; padding: 10px 16px; border-radius: 25px; text-decoration: none; box-shadow: 0 2px 5px rgba(0,0,0,0.3); opacity: 0.95; cursor: pointer; }
  
  /* モーダル */
  .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); z-index: 10000; align-items: center; justify-content: center; }
  .modal-content-help { background-color: #fff; width: 90%; max-width: 500px; padding: 20px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); max-height: 85vh; overflow-y: auto; position: relative; animation: popIn 0.2s ease-out; }
  .modal-content-msg { background-color: #fff; width: 85%; max-width: 350px; padding: 25px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); text-align: center; animation: popIn 0.2s ease-out; }
  @keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
  
  .modal-header { font-size: 19px; font-weight: bold; color: #008000; border-bottom: 2px solid #008000; padding-bottom: 10px; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; }
  .modal-close-btn { background: #eee; border: none; padding: 8px 15px; cursor: pointer; border-radius: 20px; font-size: 15px; color: #333; font-weight: bold; }
  
  /* ヘルプ内 */
  .help-section-title { color: #008000; border-left: 6px solid #008000; padding-left: 10px; margin: 15px 0 8px 0; font-size: 17px; font-weight: bold; }
  .help-text { font-size: 15px; line-height: 1.6; margin-bottom: 5px; color: #333; }
  .help-list { padding-left: 20px; margin-top: 5px; font-size: 15px; color: #333; line-height: 1.6; }
  .help-warning { background:#fff4f4; border:1px solid #d32f2f; padding:12px; border-radius:5px; margin-bottom:15px; }
  .help-warning-title { color:#d32f2f; margin-top:0; font-size:16px; font-weight:bold; }

  /* メッセージモーダル */
  .msg-title { font-size: 1.2em; font-weight: bold; color: #333; margin-bottom: 12px; }
  .msg-body { font-size: 15px; color: #444; line-height: 1.6; margin-bottom: 25px; white-space: pre-wrap; }
  .msg-buttons { display: flex; justify-content: center; gap: 15px; }
  .btn-ok { background: #008000; color: #fff; border: none; padding: 12px 30px; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; flex: 1; max-width: 140px; }
  .btn-cancel { background: #ccc; color: #333; border: none; padding: 12px 30px; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; flex: 1; max-width: 140px; }

  /* UI要素 */
  .section { margin-top: 2em; font-weight: bold; border-bottom: 2px solid #008000; padding-bottom: 5px; margin-bottom: 15px; color: #333; font-size: 1.1em; }
  .sub-section { font-size: 1em; color: #555; margin-bottom: 8px; }
  .grid-container { display: flex; flex-wrap: wrap; gap: 8px; }
  .grid-item-2 { flex: 1 1 calc(50% - 8px); }
  
  .btn-base { display: flex; align-items: center; justify-content: center; padding: 5px; text-align: center; cursor: pointer; box-sizing: border-box; font-size: 16px; font-weight: bold; border-radius: 8px; text-decoration: none; min-height: 60px; line-height: 1.3; width: 100%; border: 2px solid transparent; transition: all 0.2s; }
  
  .area-btn { background: #fff; color: #008000; border: 2px solid #008000; }
  .area-btn.active { background: #008000; color: #fff; box-shadow: 0 0 5px rgba(0,128,0,0.5); }
  
  /* 排他制御用 */
  .btn-base.disabled { background-color: #e0e0e0 !important; color: #999 !important; border-color: #ccc !important; pointer-events: none; opacity: 0.7; }
  .area-btn.disabled { background-color: #e0e0e0 !important; color: #999 !important; border-color: #ccc !important; }
  .exclusion-msg { display: none; color: #d32f2f; font-size: 0.9em; font-weight: bold; margin-bottom: 10px; background: #fff0f0; padding: 8px; border-radius: 4px; border-left: 4px solid #d32f2f; }

  .chkLabel { background: #fff; color: #008000; border: 1px solid #008000; }
  input:checked + .chkLabel { background: #d0f0c0; border: 2px solid #008000; }
  input[type="checkbox"], input[type="radio"] { display: none; }
  
  .industry-btn-label { background: #fff; color: #0066cc; border: 2px solid #0066cc; }
  input:checked + .industry-btn-label { background: #0066cc; color: #fff; }
  
  .job-btn-label { background: #fff; color: #e6006b; border: 2px solid #e6006b; }
  input:checked + .job-btn-label { background: #e6006b; color: #fff; }
  
  details { margin-bottom: 15px; border: 1px solid #ccc; border-radius: 8px; overflow: hidden; background: #fff; width: 100%; }
  summary { cursor: pointer; padding: 15px; font-weight: bold; background-color: #f0f0f0; list-style: none; position: relative; font-size: 16px; }
  summary::after { content: "▼"; position: absolute; right: 20px; transition: transform 0.3s; color: #666; }
  details[open] summary::after { transform: rotate(180deg); }
  .details-content { padding: 10px; background: #fafafa; border-top: 1px solid #ccc; }
  
  select, input[type="text"] { width: 100%; padding: 14px; margin-top: 5px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 6px; font-size: 17px; }
  
  /* 番号入力用スタイル */
  input.num-input { padding: 12px; margin: 0; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; font-size: 18px; text-align: center; }
  
  .searchbutton { display: block; width: 100%; padding: 20px; background: #008000; color: #fff !important; text-align: center; font-size: 24px; font-weight: bold; border-radius: 12px; margin-top: 35px; text-decoration: none; box-shadow: 0 4px 6px rgba(0,0,0,0.1); box-sizing: border-box; }
  .reset-btn { display: block; width: 100%; margin-top: 20px; padding: 14px; background-color: #ccc; color: #333; text-align: center; border-radius: 8px; font-size: 15px; text-decoration: none; border: none; cursor: pointer; box-sizing: border-box; }
  
  .app-guide { margin-top: 40px; border: 2px solid #008000; border-radius: 8px; overflow: hidden; background-color: #fff; }
  .app-guide h3 { margin: 0; padding: 12px 15px; background-color: #008000; color: #fff !important; font-size: 18px; font-weight: bold; }
  .app-guide .guide-body { padding: 20px; background-color: #f9fff9; }
  .app-guide ul { padding-left: 20px; margin-top: 0; }
  .app-guide li { margin-bottom: 8px; line-height: 1.6; font-size: 15px; }
  
  .warning-box { margin-top: 15px; padding: 15px; background-color: #faf3f3; border: 1px solid #cc9999; border-radius: 5px; color: #8c2f2f; font-size: 0.95em; font-weight: bold; line-height: 1.6; }

  @media screen and (max-width: 600px) {
    #wrapper { padding: 10px 5px; width: 100%; padding-bottom: 140px; }
    .btn-base { font-size: 15px; padding: 5px; min-height: 55px; }
    .searchbutton { position: fixed; bottom: 0; left: 0; width: 100%; margin: 0; border-radius: 0; z-index: 999; padding: 25px 20px; box-shadow: 0 -5px 15px rgba(0,0,0,0.2); }
    .app-guide { margin-top: 30px; }
    .app-guide .guide-body { padding: 15px; }
    .floating-help-btn { top: 20px; font-size: 12px; padding: 8px 12px; }
  }
</style>

<script type="text/javascript">
  var amp = String.fromCharCode(38); // 記号回避用
  
  var areaData = {
    "matsuyama_all": { name: "松山市内全域", code: "38201", words: "" },
    "east":  { name: "城東・中央", code: "38201", words: "一番町　二番町　三番町　千舟町　大街道　湊町　道後　石手　祝谷　東野　樽味　桑原　松末" },
    "west":  { name: "城西・中央", code: "38201", words: "大手町　南江戸　竹原　小栗　土居田　宮西　萱町　本町　花園町　藤原　保免　余戸" },
    "north": { name: "城北",      code: "38201", words: "潮見　久枝　和気　堀江　吉藤　谷町　御幸　鴨川　平田　山越　問屋町　内宮　安城寺" },
    "south": { name: "城南",      code: "38201", words: "石井　居相　古川　はなみずき　和泉　森松　井門　天山　朝生田　土居　北井門　小坂" },
    "joto":  { name: "久米・小野", code: "38201", words: "小野　久米　平井　鷹子　来住　湯の山　南久米　北久米　畑寺　水泥　福音寺　高井" },
    "josai": { name: "三津・垣生", code: "38201", words: "三津　高浜　味生　生石　垣生　空港通　富久　南吉田　梅津寺　北斎院　南斎院　別府" },
    "hojo":  { name: "北条・島しょ", code: "38201", words: "北条　浅海　立岩　難波　正岡　河野　由良　睦野　中島　大浦　粟井　柳原　八反地" },
    // ▼周辺地域
    "iyo":    { name: "伊予市",     code: "38210", words: "" },
    "toon":   { name: "東温市",     code: "38211", words: "" },
    "masaki": { name: "松前町",     code: "38401", words: "" },
    "tobe":   { name: "砥部町",     code: "38402", words: "" },
    "kuma":   { name: "久万高原町", code: "38386", words: "" }
  };

  var matsuyamaGroup = ["matsuyama_all", "east", "west", "north", "south", "joto", "josai", "hojo"];
  var selectedAreaKeys = [];

  // ▼ 自動フォーカス移動
  function autoFocusNext(current, nextFieldId) {
    if (current.value.length >= current.maxLength) {
        document.getElementById(nextFieldId).focus();
    }
  }

  // ▼ 排他制御ロジック
  function updateExclusion() {
    var isKeywordSearch = document.getElementById('u2').checked || 
                          document.getElementById('u6').checked || 
                          document.getElementById('u7').checked;
    
    var isDetailAreaSelected = false;
    for(var i=0; i<selectedAreaKeys.length; i++){
        if(matsuyamaGroup.indexOf(selectedAreaKeys[i]) !== -1 && selectedAreaKeys[i] !== "matsuyama_all"){
            isDetailAreaSelected = true;
            break;
        }
    }

    // 1. 特殊キーワード選択中 → 詳細エリアボタンを無効化
    matsuyamaGroup.forEach(function(key){
        if(key !== "matsuyama_all") {
            var btn = document.getElementById('btn-' + key);
            if(isKeywordSearch) {
                btn.classList.add('disabled');
            } else {
                btn.classList.remove('disabled');
            }
        }
    });
    document.getElementById('area-warning-msg').style.display = isKeywordSearch ? 'block' : 'none';

    // 2. 詳細エリア選択中 → 特殊キーワードボタンを無効化
    var specialLabels = [
        document.querySelector('label[for="u2"]'), 
        document.querySelector('label[for="u6"]'), 
        document.querySelector('label[for="u7"]') 
    ];
    specialLabels.forEach(function(lbl){
        if(isDetailAreaSelected) {
            lbl.classList.add('disabled');
        } else {
            lbl.classList.remove('disabled');
        }
    });
    document.getElementById('senior-warning-msg').style.display = isDetailAreaSelected ? 'block' : 'none';
  }

  function onRadioClick() {
    updateExclusion();
    if(document.getElementById('u5').checked) {
        document.getElementById('FreeWord').style.display = 'block';
    } else {
        document.getElementById('FreeWord').style.display = 'none';
    }
  }

  // ▼ カスタムモーダル
  function showMyModal(title, text, isConfirm, callback) {
    var overlay = document.getElementById('msg-modal-overlay');
    document.getElementById('msg-modal-title').innerText = title;
    document.getElementById('msg-modal-text').innerText = text;
    var btnOk = document.getElementById('msg-btn-ok');
    var btnCancel = document.getElementById('msg-btn-cancel');
    var newOk = btnOk.cloneNode(true);
    var newCancel = btnCancel.cloneNode(true);
    btnOk.parentNode.replaceChild(newOk, btnOk);
    btnCancel.parentNode.replaceChild(newCancel, btnCancel);
    btnOk = document.getElementById('msg-btn-ok');
    btnCancel = document.getElementById('msg-btn-cancel');

    if(isConfirm) {
        btnCancel.style.display = 'block';
        btnOk.innerText = "検索する";
    } else {
        btnCancel.style.display = 'none';
        btnOk.innerText = "OK";
    }
    overlay.style.display = 'flex';
    btnOk.onclick = function() { overlay.style.display = 'none'; if(callback) callback(true); };
    btnCancel.onclick = function() { overlay.style.display = 'none'; if(callback) callback(false); };
  }

  function countUniqueCodes(keys) {
    var codes = [];
    keys.forEach(function(k) {
        var c = areaData[k].code;
        if(codes.indexOf(c) === -1) codes.push(c);
    });
    return codes.length;
  }

  function selectArea(key) {
    var btn = document.getElementById('btn-' + key);
    if(btn.classList.contains('disabled')) return;

    var index = selectedAreaKeys.indexOf(key);
    var isMatsuyama = matsuyamaGroup.indexOf(key) !== -1;
    var nextSelectedKeys = selectedAreaKeys.slice();

    if (isMatsuyama) {
      nextSelectedKeys = nextSelectedKeys.filter(function(k) {
        return matsuyamaGroup.indexOf(k) === -1;
      });
      nextSelectedKeys.push(key);
    } else {
      if (index === -1) {
        nextSelectedKeys.push(key);
      } else {
        nextSelectedKeys.splice(index, 1);
      }
    }

    if (nextSelectedKeys.length > selectedAreaKeys.length) { 
        if (countUniqueCodes(nextSelectedKeys) > 3) {
            showMyModal("選択できません", "ハローワークの仕様上、同時に選択できる地域は3つまでです。\n（松山市内は全域で1つとカウントされます）", false);
            return;
        }
    }

    if(isMatsuyama) {
        matsuyamaGroup.forEach(function(mKey) {
            var mBtn = document.getElementById('btn-' + mKey);
            if(mBtn) mBtn.classList.remove('active');
        });
    }
    
    selectedAreaKeys = nextSelectedKeys;

    var allBtns = document.getElementsByClassName('area-btn');
    for(var i=0; i<allBtns.length; i++) allBtns[i].classList.remove('active');
    
    selectedAreaKeys.forEach(function(k){
        var b = document.getElementById('btn-' + k);
        if(b) b.classList.add('active');
    });

    updateAreaDisplay();
    updateExclusion(); 
  }

  function updateAreaDisplay() {
    var display = document.getElementById('selectedAreaDisplay');
    if (selectedAreaKeys.length === 0) {
      display.innerText = "指定なし（松山市全域）";
      document.getElementById('FreeW').value = "";
      document.getElementById('u4').checked = true; 
      onRadioClick(); 
    } else {
      var names = [];
      var combinedWords = "";
      selectedAreaKeys.forEach(function(k) {
        names.push(areaData[k].name);
        if(areaData[k].words) { combinedWords += areaData[k].words + "　"; }
      });
      display.innerText = "選択中: " + names.join("、");
      document.getElementById('FreeW').value = combinedWords.trim();
    }
  }

  function clearJobType() {
    var els = document.getElementsByName('radioJobType');
    for(var i=0; els.length > i; i++) els[i].checked = false;
    document.getElementById('job0').checked = true;
  }
  function clearIndustry() {
    var els = document.getElementsByName('radioIndustry');
    for(var i=0; els.length > i; i++) els[i].checked = false;
    document.getElementById('ind0').checked = true;
  }
  
  function openHelp() { document.getElementById('help-modal').style.display = 'flex'; }
  function closeHelp() { document.getElementById('help-modal').style.display = 'none'; }
  
  function resetAll() {
    showMyModal("確認", "選択した条件をすべてリセットしますか？", true, function(result){
        if(!result) return;
        selectedAreaKeys = [];
        var btns = document.getElementsByClassName('area-btn');
        for(var i=0; btns.length > i; i++) btns[i].classList.remove('active');
        
        var allBtnBase = document.getElementsByClassName('btn-base');
        for(var i=0; i<allBtnBase.length; i++) allBtnBase[i].classList.remove('disabled');
        var allLabels = document.getElementsByTagName('label');
        for(var i=0; i<allLabels.length; i++) allLabels[i].classList.remove('disabled');
        
        document.getElementById('area-warning-msg').style.display = 'none';
        document.getElementById('senior-warning-msg').style.display = 'none';

        document.getElementById('s4').checked = true;
        document.getElementById('job0').checked = true;
        document.getElementById('ind0').checked = true;
        document.getElementById('u4').checked = true; 
        
        updateAreaDisplay();
        onRadioClick();

        var checks = document.getElementsByName('j1');
        for(var i=0; checks.length > i; i++) checks[i].checked = false;
        
        // 入力欄クリア
        document.getElementById('f0').value = "";
        document.getElementById('f1').value = "";
        document.getElementById('q0').value = "";
        document.getElementById('q1').value = "";
        
        document.getElementById('FreeW').value = "";
        closeHelp();
    });
  }

  function Search() {
    // 1. 求人番号（ズバリ検索）があるかチェック
    var q0 = document.getElementById('q0').value;
    var q1 = document.getElementById('q1').value;
    
    if(q0 && q1) {
        showMyModal("求人番号検索", "入力された求人番号（" + q0 + "-" + q1 + "）で\nピンポイント検索しますか？", true, function(result){
            if(result) {
                // 求人番号指定検索URLへ（詳細表示）
                var targetUrl = "https://www.hellowork.mhlw.go.jp/kensaku/GECA110050.do?action=searchBtn&screenId=GECA110050&kJBNo1=" + q0 + "&kJBNo2=" + q1;
                window.open(targetUrl, '_blank');
            }
        });
        return; // 通常検索はしない
    }

    // 2. 通常検索処理
    var uniqueCodes = [];
    if (selectedAreaKeys.length === 0) {
      uniqueCodes.push("38201");
    } else {
      selectedAreaKeys.forEach(function(k) {
        var c = areaData[k].code;
        if(uniqueCodes.indexOf(c) === -1) { uniqueCodes.push(c); }
      });
    }

    if(uniqueCodes.length > 3) {
        showMyModal("エラー", "地域コードが3つを超えています。\n選択を減らしてください。", false);
        return;
    }

    var isKeywordSearch = document.getElementById('u2').checked || 
                          document.getElementById('u6').checked || 
                          document.getElementById('u7').checked;

    var params = "";
    for(var i=0; i < 3; i++) {
        var num = i + 1;
        var val = (uniqueCodes.length > i) ? uniqueCodes[i] : "";
        params += amp + "siku" + num + "Hidden=" + val;
    }
    params += amp + "tDFK1CmbBox=38";

    var collect = function(fname) {
      var str = "";
      var el = document.forms[fname].elements;
      for(var i=0; el.length > i; i++) { if(el[i].checked) str += el[i].value; }
      return str;
    };
    
    params += collect('ippan') + collect('newArri') + collect('jyouken') + collect('JobIndustry') + collect('JobType');
    
    var fw = document.getElementById("FreeW").value;
    
    // 求職番号の追加
    var ksjo = document.getElementById('f0').value;
    var ksge = document.getElementById('f1').value;
    if(ksjo && ksge) {
        params += amp + "kSNoJo=" + ksjo + amp + "kSNoGe=" + ksge;
    }
    
    var executeSearch = function() {
        var finalUrl = "https://www.hellowork.mhlw.go.jp/kensaku/GECA110010.do?action=searchBtn" + amp + "screenId=GECA110010" + amp + "kjKbnRadioBtn=1" + amp + "searchClear=0" + params;
        window.open(finalUrl, '_blank');
    };

    if (isKeywordSearch) {
        params += collect('Free');
        executeSearch();
    } else if(fw && fw !== "") {
       var encodedFW = encodeURIComponent(fw);
       params += amp + "freeWordInput=" + encodedFW + amp + "freeWordRadioBtn=0"; // 0(OR)に戻しました
       
       showMyModal("検索確認", "【条件】" + document.getElementById('selectedAreaDisplay').innerText + "\n\nこの条件でハローワークの検索を開きますか？", true, function(result){
           if(result) executeSearch();
       });
    } else { 
       params += collect('Free'); 
       showMyModal("検索確認", "【条件】" + document.getElementById('selectedAreaDisplay').innerText + "\n\nこの条件でハローワークの検索を開きますか？", true, function(result){
           if(result) executeSearch();
       });
    }
  }

  function checkradio(disp) { 
      document.getElementById('FreeWord').style.display = disp; 
      updateExclusion(); 
  }
</script>
</head>
<body>

<a class="floating-help-btn" onclick="openHelp(); return false;">？ 利用方法</a>

<div id="help-modal" class="modal-overlay" onclick="if(event.target == this) closeHelp();">
  <div class="modal-content-help">
    <div class="modal-header">
      <span>利用方法・ご注意</span>
      <button class="modal-close-btn" onclick="closeHelp()">閉じる ×</button>
    </div>
    <div class="modal-body">
      <div class="help-warning">
        <h4 class="help-warning-title">【重要】松山市内のエリア検索について</h4>
        <p class="help-text">松山市内の地区選択は、<strong>求人数の多い主要なエリア（町名）を抽出して検索</strong>する便利な機能です。</p>
        <p class="help-text">ピンポイントな町名で見つからない場合や、抜け漏れなく探したい場合は、<strong>「松山市内全域」</strong>を選択することをお勧めします。</p>
      </div>
      
      <div class="help-warning">
        <h4 class="help-warning-title">【重要】シニア・子育て・ミドル検索</h4>
        <p class="help-text">これらの条件を選択した場合、文字数制限の関係上、<strong>地区指定（詳細な町名）との併用はできません</strong>。</p>
      </div>

      <div class="help-section-title">検索方法</div>
      <p class="help-text">1. 指定したい条件のボタンをクリック又はタップしてください。</p>
      <p class="help-text">2. 希望の条件を選択し終えたら、画面下部の緑色の「検索する」ボタンを押してください。</p>
      <p class="help-text">3. ハローワークインターネットサービスの画面が開き、検索結果が表示されます。</p>

      <div class="help-section-title">操作方法</div>
      <ul class="help-list">
        <li><strong>勤務地：</strong><br>ボタンを押すと選択状態（濃い緑色）になります。松山市内は1つだけ、周辺地域は複数選択可能です（合計3つまで）。</li>
        <li><strong>職種・業種・就業形態：</strong><br>「限定なし」ボタンを押すか、別の項目を選び直してください。</li>
        <li><strong>求人番号：</strong><br>窓口で案内された求人番号を入力すると、その求人をピンポイントで表示します（他の条件は無視されます）。</li>
      </ul>
      <div style="text-align:center; margin-top:20px;">
        <button onclick="closeHelp()" style="padding:10px 20px; background:#008000; color:#fff; border:none; border-radius:5px; cursor:pointer;">閉じる</button>
      </div>
    </div>
  </div>
</div>

<div id="msg-modal-overlay" class="modal-overlay">
  <div class="modal-content-msg">
    <div id="msg-modal-title" class="msg-title"></div>
    <div id="msg-modal-text" class="msg-body"></div>
    <div class="msg-buttons">
        <button id="msg-btn-cancel" class="btn-cancel">キャンセル</button>
        <button id="msg-btn-ok" class="btn-ok">OK</button>
    </div>
  </div>
</div>

<div id="wrapper">
  <h1 class="tytle">かんたん求人検索</h1>
  
  <div class="intro-text">
    ハローワーク松山管轄の求人情報を、簡単な操作で検索することができます。<br>
    <span class="caution-text">※本機能は簡易検索システムのため、条件によっては全ての求人が表示されない場合があります。</span>
  </div>

  <div class="section">1. 地区を選択</div>
  <p style="font-size:0.9em; color:#666;">※ハローワークの仕様上、選択できる地域は3つまでです</p>
  
  <div id="area-warning-msg" class="exclusion-msg">
    ※「シニア」「子育て」等を選択中は、詳細エリア指定はできません（併用不可）
  </div>

  <div class="sub-section">▼松山市内（1つのみ選択可）</div>
  <div class="grid-container">
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-matsuyama_all" onclick="selectArea('matsuyama_all');" class="btn-base area-btn" style="background:#eee; border-color:#aaa; color:#333;">松山市内全域（限定なし）</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-east" onclick="selectArea('east');" class="btn-base area-btn">城東・中央</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-west" onclick="selectArea('west');" class="btn-base area-btn">城西・中央</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-north" onclick="selectArea('north');" class="btn-base area-btn">城北</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-south" onclick="selectArea('south');" class="btn-base area-btn">城南</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-joto" onclick="selectArea('joto');" class="btn-base area-btn">久米・小野</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-josai" onclick="selectArea('josai');" class="btn-base area-btn">三津・垣生</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-hojo" onclick="selectArea('hojo');" class="btn-base area-btn">北条・島しょ</a></div>
  </div>
  <div class="sub-section" style="margin-top:10px;">▼周辺地域（複数選択可・合計3地域まで）</div>
  <div class="grid-container">
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-iyo" onclick="selectArea('iyo');" class="btn-base area-btn">伊予市</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-toon" onclick="selectArea('toon');" class="btn-base area-btn">東温市</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-masaki" onclick="selectArea('masaki');" class="btn-base area-btn">松前町</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-tobe" onclick="selectArea('tobe');" class="btn-base area-btn">砥部町</a></div>
    <div class="grid-item-2"><a href="javascript:void(0);" id="btn-kuma" onclick="selectArea('kuma');" class="btn-base area-btn">久万高原町</a></div>
  </div>
  <div id="selectedAreaDisplay" style="color:#008000; font-weight:bold; margin-top:10px; margin-bottom:15px; border-bottom:1px solid #ccc; padding-bottom:5px;">指定なし（松山市全域）</div>

  <div class="section">2. 求人区分</div>
  <form name="ippan" class="grid-container">
    <div class="grid-item-2"><input checked id="s4" name="radio1" type="radio" value=""/><label for="s4" class="btn-base chkLabel">限定なし</label></div>
    <div class="grid-item-2"><input id="s1" name="radio1" type="radio" value="&ippanCKBox=1&koyoFltmCKBox=1"/><label for="s1" class="btn-base chkLabel">正社員</label></div>
    <div class="grid-item-2"><input id="s2" name="radio1" type="radio" value="&ippanCKBox=1"/><label for="s2" class="btn-base chkLabel">フルタイム</label></div>
    <div class="grid-item-2"><input id="s3" name="radio1" type="radio" value="&ippanCKBox=2"/><label for="s3" class="btn-base chkLabel">パート</label></div>
  </form>

  <div class="section">3. 新着区分</div>
  <form name="newArri" class="grid-container">
    <div class="grid-item-2"><input checked id="t3" name="radio2" type="radio" value=""/><label for="t3" class="btn-base chkLabel">指定なし</label></div>
    <div class="grid-item-2"><input id="t1" name="radio2" type="radio" value="&newArrivedCKBox=1"/><label for="t1" class="btn-base chkLabel">新着(当日/前日)</label></div>
    <div class="grid-item-2"><input id="t2" name="radio2" type="radio" value="&newArrivedCKBox=2"/><label for="t2" class="btn-base chkLabel">1週間以内</label></div>
  </form>

  <div class="section">4. 業界・職種</div>
  <p style="font-size:0.9em; color:#666;">※どちらか一方を選択してください（選択するともう一方は解除されます）</p>
  
  <details>
    <summary>▼ 業界から探す（青色・人気順）</summary>
    <div class="details-content">
      <form name="JobIndustry" class="grid-container">
        <div class="grid-item-2"><input checked id="ind0" name="radioIndustry" type="radio" value="" onclick="clearJobType()"/><label for="ind0" class="btn-base industry-btn-label" style="background:#eee; border-color:#aaa; color:#333;">限定なし</label></div>
        <div class="grid-item-2"><input id="ind16" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=83&kiboSuruSngBrui2In=84&kiboSuruSngBrui3In=85" onclick="clearJobType()"/><label for="ind16" class="btn-base industry-btn-label">医療,福祉</label></div>
        <div class="grid-item-2"><input id="ind18" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=88&kiboSuruSngBrui2In=91&kiboSuruSngBrui3In=92" onclick="clearJobType()"/><label for="ind18" class="btn-base industry-btn-label">サービス業・警備</label></div>
        <div class="grid-item-2"><input id="ind9" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=50&kiboSuruSngBrui2In=56&kiboSuruSngBrui3In=61" onclick="clearJobType()"/><label for="ind9" class="btn-base industry-btn-label">卸売業・小売業</label></div>
        <div class="grid-item-2"><input id="ind4" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=06&kiboSuruSngBrui2In=07&kiboSuruSngBrui3In=08" onclick="clearJobType()"/><label for="ind4" class="btn-base industry-btn-label">建設業</label></div>
        <div class="grid-item-2"><input id="ind8" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=42&kiboSuruSngBrui2In=44&kiboSuruSngBrui3In=49" onclick="clearJobType()"/><label for="ind8" class="btn-base industry-btn-label">運送・郵便</label></div>
        <div class="grid-item-2"><input id="ind13" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=75&kiboSuruSngBrui2In=76&kiboSuruSngBrui3In=77" onclick="clearJobType()"/><label for="ind13" class="btn-base industry-btn-label">宿泊・飲食サービス</label></div>
        <div class="grid-item-2"><input id="ind5" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=09&kiboSuruSngBrui2In=26&kiboSuruSngBrui3In=16" onclick="clearJobType()"/><label for="ind5" class="btn-base industry-btn-label">製造業</label></div>
        <div class="grid-item-2"><input id="ind19" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=97&kiboSuruSngBrui2In=98" onclick="clearJobType()"/><label for="ind19" class="btn-base industry-btn-label">公務(他を除く)</label></div>
        <div class="grid-item-2"><input id="ind1" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=01&kiboSuruSngBrui2In=02&kiboSuruSngBrui3In=03&kiboSuruSngBrui4In=04" onclick="clearJobType()"/><label for="ind1" class="btn-base industry-btn-label">農林漁業</label></div>
        <div class="grid-item-2"><input id="ind7" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=39&kiboSuruSngBrui2In=40&kiboSuruSngBrui3In=41" onclick="clearJobType()"/><label for="ind7" class="btn-base industry-btn-label">情報通信業</label></div>
        <div class="grid-item-2"><input id="ind15" name="radioIndustry" type="radio" value="&kiboSuruSngBrui1In=81&kiboSuruSngBrui2In=82" onclick="clearJobType()"/><label for="ind15" class="btn-base industry-btn-label">教育,学習支援業</label></div>
      </form>
    </div>
  </details>

  <details>
    <summary>▼ 職種から探す（ピンク色）</summary>
    <div class="details-content">
      <form name="JobType" class="grid-container">
        <div class="grid-item-2"><input checked id="job0" name="radioJobType" type="radio" value="" onclick="clearIndustry()"/><label for="job0" class="btn-base job-btn-label" style="background:#eee; border-color:#aaa; color:#333;">限定なし</label></div>
        <div class="grid-item-2"><input id="job1" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=01,00" onclick="clearIndustry()"/><label for="job1" class="btn-base job-btn-label">事務・管理</label></div>
        <div class="grid-item-2"><input id="job2" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=08,00" onclick="clearIndustry()"/><label for="job2" class="btn-base job-btn-label">製造・修理</label></div>
        <div class="grid-item-2"><input id="job3" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=02,00" onclick="clearIndustry()"/><label for="job3" class="btn-base job-btn-label">営業</label></div>
        <div class="grid-item-2"><input id="job4" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=03,00" onclick="clearIndustry()"/><label for="job4" class="btn-base job-btn-label">販売</label></div>
        <div class="grid-item-2"><input id="job5" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=04,00" onclick="clearIndustry()"/><label for="job5" class="btn-base job-btn-label">接客サービス</label></div>
        <div class="grid-item-2"><input id="job6" name="radioJobType" type="radio" value="&kiboSuruSKSU1In=361" onclick="clearIndustry()"/><label for="job6" class="btn-base job-btn-label">介護・福祉</label></div>
        <div class="grid-item-2"><input id="job7" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=06,00" onclick="clearIndustry()"/><label for="job7" class="btn-base job-btn-label">保育・教育</label></div>
        <div class="grid-item-2"><input id="job8" name="radioJobType" type="radio" value="&kiboSuruSKSU1In=131" onclick="clearIndustry()"/><label for="job8" class="btn-base job-btn-label">医療・看護</label></div>
        <div class="grid-item-2"><input id="job9" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=09,00" onclick="clearIndustry()"/><label for="job9" class="btn-base job-btn-label">技術・IT・専門</label></div>
        <div class="grid-item-2"><input id="job10" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=10,00" onclick="clearIndustry()"/><label for="job10" class="btn-base job-btn-label">建築・土木</label></div>
        <div class="grid-item-2"><input id="job11" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=12,00" onclick="clearIndustry()"/><label for="job11" class="btn-base job-btn-label">運輸・配送</label></div>
        <div class="grid-item-2"><input id="job12" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=11,00" onclick="clearIndustry()"/><label for="job12" class="btn-base job-btn-label">警備・設備</label></div>
        <div class="grid-item-2"><input id="job13" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=14,00" onclick="clearIndustry()"/><label for="job13" class="btn-base job-btn-label">農林漁業</label></div>
        <div class="grid-item-2"><input id="job14" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=13,00" onclick="clearIndustry()"/><label for="job14" class="btn-base job-btn-label">清掃</label></div>
        <div class="grid-item-2"><input id="job15" name="radioJobType" type="radio" value="&kiboSuruSKSU1Hidden=13,00" onclick="clearIndustry()"/><label for="job15" class="btn-base job-btn-label">軽作業</label></div>
      </form>
    </div>
  </details>

  <div class="section">5. 詳しい条件</div>
  <form name="jyouken" class="grid-container">
    <div class="grid-item-2"><input id="w1" name="j1" type="checkbox" value="&grkiFumonCKBox=1"/><label for="w1" class="btn-base chkLabel">学歴不問</label></div>
    <div class="grid-item-2"><input id="w2" name="j1" type="checkbox" value="&hynaKikntFumonCKBox=1"/><label for="w2" class="btn-base chkLabel">経験不問</label></div>
    <div class="grid-item-2"><input id="w3" name="j1" type="checkbox" value="&hynaMenkyoSkkuFumonCKBox=1"/><label for="w3" class="btn-base chkLabel">資格不問</label></div>
    <div class="grid-item-2"><input id="w4" name="j1" type="checkbox" value="&holidayCKBox=6,7,8"/><label for="w4" class="btn-base chkLabel">土日祝休み</label></div>
    <div class="grid-item-2"><input id="w5" name="j1" type="checkbox" value="&kurumaTuukinCKBox=1"/><label for="w5" class="btn-base chkLabel">マイカー通勤</label></div>
    <div class="grid-item-2"><input id="w6" name="j1" type="checkbox" value="&tenkinNashiCKBox=1"/><label for="w6" class="btn-base chkLabel">転勤なし</label></div>
    <div class="grid-item-2"><input id="w7" name="j1" type="checkbox" value="&zangyoNashiCKBox=1"/><label for="w7" class="btn-base chkLabel">残業なし</label></div>
    <div class="grid-item-2"><input id="w8" name="j1" type="checkbox" value="&shoyoAriCKBox=1"/><label for="w8" class="btn-base chkLabel">賞与あり</label></div>
    <div class="grid-item-2"><input id="w9" name="j1" type="checkbox" value="&nyukyoKanoJutakuCKBox=1"/><label for="w9" class="btn-base chkLabel">単身住宅有</label></div>
    <div class="grid-item-2"><input id="w10" name="j1" type="checkbox" value="&takujiShoCKBox=1"/><label for="w10" class="btn-base chkLabel">託児施設有</label></div>
  </form>

  <div class="section">6. キーワード・その他</div>
  <form name="Free" class="grid-container">
    <div class="grid-item-2"><input checked id="u4" name="radio3" type="radio" value="" onclick="onRadioClick()"/><label for="u4" class="btn-base chkLabel">限定なし</label></div>
    <div class="grid-item-2"><input id="u2" name="radio3" type="radio" value="&freeWordInput=%E5%AD%90%E8%82%B2%E3%81%A6%E6%94%AF%E6%8F%B4%E6%B1%82%E4%BA%BA" onclick="onRadioClick()"/><label for="u2" class="btn-base chkLabel">子育て支援</label></div>
    
    <div id="senior-warning-msg" class="exclusion-msg" style="flex:100%; display:none;">
      ※エリア指定中は、上記キーワードボタンは使用できません（併用不可）
    </div>

    <div class="grid-item-2"><input id="u6" name="radio3" type="radio" value="&freeWordInput=%E3%82%B7%E3%83%8B%E3%82%A2%E3%80%80%EF%BC%96%EF%BC%90%E6%AD%B3%E4%BB%A5%E4%B8%8A&nOTKNSKFreeWordInput=%E3%83%9F%E3%83%89%E3%83%AB%E3%82%B7%E3%83%8B%E3%82%A2&freeWordRadioBtn=0" onclick="onRadioClick()"/><label for="u6" class="btn-base chkLabel">シニア(60歳~)</label></div>
    <div class="grid-item-2"><input id="u7" name="radio3" type="radio" value="&freeWordInput=%E3%83%9F%E3%83%89%E3%83%AB%E3%82%B7%E3%83%8B%E3%82%A2&freeWordRadioBtn=0" onclick="onRadioClick()"/><label for="u7" class="btn-base chkLabel">ミドルシニア</label></div>
    
    <div class="grid-item-2" style="flex:100%;"><input id="u5" name="radio3" type="radio" value="manual" onclick="onRadioClick()"/><label for="u5" class="btn-base chkLabel">入力する</label></div>
  </form>
  <div id="FreeWord" style="display:none;">
    <input class="textarea" id="FreeW" placeholder="全角スペースで区切って入力" type="text" />
  </div>

  <div class="section" style="border:none;">7. 求職番号（お持ちの方）</div>
  <p style="font-size:0.9em; color:#666; margin-top:0; margin-bottom:10px; line-height:1.4;">※求職者マイページをお持ちの方は、ログインして検索すると、求職番号の入力が不要になり、より多くの機能が利用できます。</p>
  
  <div style="display:flex; align-items:center;">
    <form name="ksjo" style="margin:0;"><input id="f0" type="tel" class="num-input" placeholder="12345" style="width:80px;" maxlength="5" oninput="autoFocusNext(this, 'f1')"/></form>
    <span style="margin:0 5px;">-</span>
    <form name="ksge" style="margin:0;"><input id="f1" type="tel" class="num-input" placeholder="12345678" style="width:110px;" maxlength="8"/></form>
  </div>

  <div class="section" style="border:none;">8. 求人番号（ズバリ検索）</div>
  <p style="font-size:0.9em; color:#666; margin-top:0; margin-bottom:10px; line-height:1.4;">※窓口で案内された求人票の番号を入力してください。入力がある場合は、他の条件を無視してこの求人を直接表示します。</p>
  
  <div style="display:flex; align-items:center;">
    <form name="qno1" style="margin:0;"><input id="q0" type="tel" class="num-input" placeholder="38010" style="width:80px;" maxlength="5" oninput="autoFocusNext(this, 'q1')"/></form>
    <span style="margin:0 5px;">-</span>
    <form name="qno2" style="margin:0;"><input id="q1" type="tel" class="num-input" placeholder="12345678" style="width:110px;" maxlength="8"/></form>
  </div>

  <a class="searchbutton" href="javascript:void(0);" onclick="Search()">この条件で検索する</a>
  <button class="reset-btn" onclick="resetAll()">条件をすべてリセット</button>

  <div class="app-guide">
    <h3>▼ 求人への応募方法</h3>
    <div class="guide-body">
      <ul>
        <li>求人に応募するには、ハローワークの<strong>「紹介状」</strong>が必要です。</li>
        <li>お近くのハローワーク窓口、またはオンラインで紹介状の発行を依頼してください。</li>
        <li>一部の求人は、マイページから直接応募できる<strong>「オンライン自主応募」</strong>に対応しています。</li>
      </ul>
      
      <div class="warning-box">
        【注意】<br>
        オンライン自主応募は、応募者ご自身の直接応募となり、ハローワーク紹介にはなりません。<br>
        （ハローワークの職業紹介を要件とする給付金等は対象外となる場合があります）
      </div>

      <p style="margin-top:15px; font-weight:bold; color:#008000;">お問い合わせ先：ハローワーク松山（TEL: 089-917-8609）</p>
    </div>
  </div>
</div>
</body>
</html>
